library(tidyverse)
library(ggrepel)
library(lubridate)
user <- unlist(strsplit(getwd(), "/"))
user <- user[3]
setwd(paste("C://Users//", user, "//Documents//Github//DFS_Data//Data_UFC//2022-03-12", sep = ""))
###UFC Imports###
ufc_salaries <- read.csv("DKsalaries.csv")
ufc_odds <- read.csv("mma-odds-rotowire.csv", header = T)
###Rotowire Adjustments###
ufc_odds <- replace(ufc_odds, ufc_odds == '', '')
###Odds Adjustments###
ufc_odds <- ufc_odds[-c(1),-c(4,6,8,10,12,14,16,18,20,22,24)]
names(ufc_odds)[c(1,2,8)] <- c("Fighter", "Date Time","Fight.Goes.Distance.No")
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], as.numeric)
convert_ML <- function(odds) {
breakeven <- if_else(odds > 0, 100 / (100 + odds), abs(odds) / (abs(odds) + 100))
return(round(breakeven, digits = 4))
}
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], convert_ML)
###Create Fighter tibble###
ufc_salaries <- ufc_salaries %>%
separate(Game.Info, into = c("Matchup"), sep = " ")
ufc_salaries <- ufc_salaries %>%
separate(Matchup, into = c("Fighter1", "Fighter2"), sep = "@")
ufc_salaries$Opponent <- if_else(ufc_salaries$Fighter1 == ufc_salaries$TeamAbbrev, ufc_salaries$Fighter2, ufc_salaries$Fighter1)
fighters <- ufc_odds %>%
left_join(ufc_salaries, by = c("Fighter" = "Name"))
fighters <- fighters[,-c(14,17)]
fighters <- fighters[,c(1,16,2:15,17:19)]
###Create random lineup###
fighter_table <- fighters %>%
select(names(fighters)[c(1,2,4:9,16)])
###Matchups###
df.new = df[seq(1, nrow(df), 5), ]
matchups1 <- fighter_table[seq(1, nrow(fighter_table), 2), ]
matchups1 <- matchups1[,1]
matchups2 <- fighter_table[seq(2, nrow(fighter_table), 2), ]
matchups2 <- matchups2[,1]
matchups3 <- cbind(tibble(matchups1), tibble(matchups2))
matchups4 <- cbind(tibble(matchups2), tibble(matchups1))
matchups5 <- rbind(matchups3,matchups4)
fighter_table <- fighter_table %>%
left_join(matchups5, by = c("Fighter" = "matchups2"))
###Building a lineup###
lineup <- tibble(sample(fighters$Fighter, 6, replace = F))
names(lineup)[1] <- "Fighter"
lineup <- lineup %>%
left_join(fighter_table, by = c("Fighter")) %>%
bind_rows(summarise(.,
across(where(is.numeric), sum),
across(where(is.character), ~"")))
View(fighter_table)
View(ufc_salaries)
View(matchups5)
View(fighter_table)
View(matchups5)
View(fighter_table)
View(fighters)
View(fighter_table)
View(ufc_salaries)
View(ufc_salaries)
View(matchups5)
ufc_salaries <- ufc_salaries %>%
left_join(matchups5, by = c("Opponent" = "matchups2"))
View(fighter_table)
View(lineup)
View(fighters)
View(ufc_salaries)
View(fighter_table)
View(fighter_table)
View(ufc_salaries)
matchups <- ufc_salaries %>%
select(TeamAbbrev, Name)
View(matchups)
View(fighter_table)
library(tidyverse)
library(ggrepel)
library(lubridate)
user <- unlist(strsplit(getwd(), "/"))
user <- user[3]
setwd(paste("C://Users//", user, "//Documents//Github//DFS_Data//Data_UFC//2022-03-12", sep = ""))
###UFC Imports###
ufc_salaries <- read.csv("DKsalaries.csv")
ufc_odds <- read.csv("mma-odds-rotowire.csv", header = T)
###Rotowire Adjustments###
ufc_odds <- replace(ufc_odds, ufc_odds == '', '')
###Odds Adjustments###
ufc_odds <- ufc_odds[-c(1),-c(4,6,8,10,12,14,16,18,20,22,24)]
names(ufc_odds)[c(1,2,8)] <- c("Fighter", "Date Time","Fight.Goes.Distance.No")
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], as.numeric)
convert_ML <- function(odds) {
breakeven <- if_else(odds > 0, 100 / (100 + odds), abs(odds) / (abs(odds) + 100))
return(round(breakeven, digits = 4))
}
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], convert_ML)
###Create Fighter tibble###
ufc_salaries <- ufc_salaries %>%
separate(Game.Info, into = c("Matchup"), sep = " ")
ufc_salaries <- ufc_salaries %>%
separate(Matchup, into = c("Fighter1", "Fighter2"), sep = "@")
ufc_salaries$TeamOpp <- if_else(ufc_salaries$Fighter1 == ufc_salaries$TeamAbbrev, ufc_salaries$Fighter2, ufc_salaries$Fighter1)
fighters <- ufc_odds %>%
left_join(ufc_salaries, by = c("Fighter" = "Name"))
fighters <- fighters[,-c(14,17)]
fighters <- fighters[,c(1,16,2:15,17:19)]
###Create random lineup###
fighter_table <- fighters %>%
select(names(fighters)[c(1,2,4:9,16)])
###Matchups###
matchups <- ufc_salaries %>%
select(TeamAbbrev, Name)
###Building a lineup###
lineup <- tibble(sample(fighters$Fighter, 6, replace = F))
names(lineup)[1] <- "Fighter"
lineup <- lineup %>%
left_join(fighter_table, by = c("Fighter")) %>%
bind_rows(summarise(.,
across(where(is.numeric), sum),
across(where(is.character), ~"")))
ufc_salaries <- ufc_salaries %>%
left_join(ufc_salaries, by = c("TeamOpp" = "TeamAbbrev"))
ufc_salaries <- ufc_salaries %>%
left_join(matchups, by = c("TeamOpp" = "TeamAbbrev"))
library(tidyverse)
library(ggrepel)
library(lubridate)
user <- unlist(strsplit(getwd(), "/"))
user <- user[3]
setwd(paste("C://Users//", user, "//Documents//Github//DFS_Data//Data_UFC//2022-03-12", sep = ""))
###UFC Imports###
ufc_salaries <- read.csv("DKsalaries.csv")
ufc_odds <- read.csv("mma-odds-rotowire.csv", header = T)
###Rotowire Adjustments###
ufc_odds <- replace(ufc_odds, ufc_odds == '', '')
###Odds Adjustments###
ufc_odds <- ufc_odds[-c(1),-c(4,6,8,10,12,14,16,18,20,22,24)]
names(ufc_odds)[c(1,2,8)] <- c("Fighter", "Date Time","Fight.Goes.Distance.No")
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], as.numeric)
convert_ML <- function(odds) {
breakeven <- if_else(odds > 0, 100 / (100 + odds), abs(odds) / (abs(odds) + 100))
return(round(breakeven, digits = 4))
}
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], convert_ML)
###Create Fighter tibble###
ufc_salaries <- ufc_salaries %>%
separate(Game.Info, into = c("Matchup"), sep = " ")
ufc_salaries <- ufc_salaries %>%
separate(Matchup, into = c("Fighter1", "Fighter2"), sep = "@")
ufc_salaries$TeamOpp <- if_else(ufc_salaries$Fighter1 == ufc_salaries$TeamAbbrev, ufc_salaries$Fighter2, ufc_salaries$Fighter1)
fighters <- ufc_odds %>%
left_join(ufc_salaries, by = c("Fighter" = "Name"))
fighters <- fighters[,-c(14,17)]
fighters <- fighters[,c(1,16,2:15,17:19)]
###Create random lineup###
fighter_table <- fighters %>%
select(names(fighters)[c(1,2,4:9,16)])
###Matchups###
matchups <- ufc_salaries %>%
select(TeamAbbrev, Name)
ufc_salaries <- ufc_salaries %>%
left_join(matchups, by = c("TeamOpp" = "TeamAbbrev"))
###Building a lineup###
lineup <- tibble(sample(fighters$Fighter, 6, replace = F))
names(lineup)[1] <- "Fighter"
lineup <- lineup %>%
left_join(fighter_table, by = c("Fighter")) %>%
bind_rows(summarise(.,
across(where(is.numeric), sum),
across(where(is.character), ~"")))
View(ufc_salaries)
names <- ufc_salaries %>%
select(TeamAbbrev, Name)
ufc_salaries <- ufc_salaries %>%
left_join(names, by = c("TeamOpp" = "TeamAbbrev"))
names <- ufc_salaries %>%
select(TeamAbbrev, Name)
matchups <- ufc_salaries %>%
select(TeamAbbrev, Name)
library(tidyverse)
library(ggrepel)
library(lubridate)
user <- unlist(strsplit(getwd(), "/"))
user <- user[3]
setwd(paste("C://Users//", user, "//Documents//Github//DFS_Data//Data_UFC//2022-03-12", sep = ""))
###UFC Imports###
ufc_salaries <- read.csv("DKsalaries.csv")
ufc_odds <- read.csv("mma-odds-rotowire.csv", header = T)
###Rotowire Adjustments###
ufc_odds <- replace(ufc_odds, ufc_odds == '', '')
###Odds Adjustments###
ufc_odds <- ufc_odds[-c(1),-c(4,6,8,10,12,14,16,18,20,22,24)]
names(ufc_odds)[c(1,2,8)] <- c("Fighter", "Date Time","Fight.Goes.Distance.No")
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], as.numeric)
convert_ML <- function(odds) {
breakeven <- if_else(odds > 0, 100 / (100 + odds), abs(odds) / (abs(odds) + 100))
return(round(breakeven, digits = 4))
}
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], convert_ML)
###Create Fighter tibble###
ufc_salaries <- ufc_salaries %>%
separate(Game.Info, into = c("Matchup"), sep = " ")
ufc_salaries <- ufc_salaries %>%
separate(Matchup, into = c("Fighter1", "Fighter2"), sep = "@")
ufc_salaries$TeamOpp <- if_else(ufc_salaries$Fighter1 == ufc_salaries$TeamAbbrev, ufc_salaries$Fighter2, ufc_salaries$Fighter1)
fighters <- ufc_odds %>%
left_join(ufc_salaries, by = c("Fighter" = "Name"))
fighters <- fighters[,-c(14,17)]
fighters <- fighters[,c(1,16,2:15,17:19)]
###Create random lineup###
fighter_table <- fighters %>%
select(names(fighters)[c(1,2,4:9,16)])
###Matchups###
matchups <- ufc_salaries %>%
select(TeamAbbrev, Name)
ufc_salaries <- ufc_salaries %>%
left_join(matchups, by = c("TeamOpp" = "TeamAbbrev"))
###Building a lineup###
lineup <- tibble(sample(fighters$Fighter, 6, replace = F))
names(lineup)[1] <- "Fighter"
lineup <- lineup %>%
left_join(fighter_table, by = c("Fighter")) %>%
bind_rows(summarise(.,
across(where(is.numeric), sum),
across(where(is.character), ~"")))
View(fighters)
View(ufc_odds)
View(ufc_salaries)
