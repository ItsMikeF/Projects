library(tidyverse)
library(ggrepel)
library(lubridate)
setwd("C://Users//Mike Francis//Documents//Projects//DFS_Data//Data_UFC//2022-03-05")
###UFC Slate###
ufc_salaries <- read.csv("DKsalaries.csv")
ufc_odds <- read.csv("mma-odds-rotowire.csv", header = T)
###Rotowire Adjustments###
ufc_odds <- replace(ufc_odds, ufc_odds == 'Sergey Spivac', 'Serghei Spivac')
ufc_odds <- replace(ufc_odds, ufc_odds == 'Rafael dos Anjos', 'Rafael Dos Anjos')
ufc_odds <- replace(ufc_odds, ufc_odds == "L'udovit Klein", 'Ludovit Klein')
mm
###Odds Adjustments###
ufc_odds <- ufc_odds[-c(1),-c(4,6,8,10,12,14,16,18,20,22,24)]
names(ufc_odds)[c(1,2,8)] <- c("Fighter", "Date Time","Fight.Goes.Distance.No")
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], as.numeric)
convert_ML <- function(odds) {
breakeven <- if_else(odds > 0, 100 / (100 + odds), abs(odds) / (abs(odds) + 100))
return(round(breakeven, digits = 4))
}
ufc_odds[,c(3:13)] <- sapply(ufc_odds[,c(3:13)], convert_ML)
###Create Fighter tibble###
fighters <- ufc_odds %>%
left_join(ufc_salaries, by = c("Fighter" = "Name"))
fighters <- fighters[,-c(14,17)]
fighters <- fighters[,c(1,16,2:15,17:19)]
###Create random lineup###
fighter_table <- fighters %>%
select(names(fighters)[c(1,2,4:9,16)])
lineup <- tibble(sample(fighters$Fighter, 6, replace = F))
names(lineup)[1] <- "Fighter"
lineup <- lineup %>%
left_join(fighter_table, by = c("Fighter")) %>%
bind_rows(summarise(.,
across(where(is.numeric), sum),
across(where(is.character), ~"")))
View(lineup)
View(fighter_table)
